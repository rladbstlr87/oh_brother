# 보안

## 1. `.env`를 이용한 민감 정보 관리

### 핵심 개념
- 소스 코드와 민감한 설정(비밀번호, API 키 등)을 분리하는 개발 방식
- `python-dotenv` 라이브러리가 `.env` 파일을 읽어, 그 안의 변수들을 시스템 환경 변수처럼 쓸 수 있게 해줌

- .env: 실제 비밀 값이 저장되는 파일. Git에 절대 올리면 안 됨
- .gitignore: `.env` 파일명을 추가하여 버전 관리에서 제외시킴
- settings.py: `os.getenv('변수명')` 코드를 통해 실제 값을 가져와 사용

### For example
민감 정보 분리를 통해 할 수 있는 것

#### ex.1-1: 안전한 코드 공유
- `.env` 파일이 제외된 소스 코드는 GitHub 같은 공개된 장소에 업로드해도 계정 정보나 비밀 키가 유출될 걱정이 없음
- 다른 개발자와 협업 시, 소스 코드와 함께 `.env.example` 파일로 형식만 공유하면, 각자 자신의 환경에 맞는 비밀 값을 설정하여 안전하게 프로젝트를 실행할 수 있음

#### ex.1-2: 환경별 설정 분리
- 내 컴퓨터(로컬 환경)에서는 개발용 DB 계정을, 실제 서버(배포 환경)에서는 운영용 DB 계정을 사용해야 할 때, 각 환경에 맞는 `.env` 파일만 배치하면 코드 수정 없이 서로 다른 설정으로 동작하게 만들 수 있음
  ```sh
  # 로컬 PC의 `.env`
  DB_PASSWORD=local_password
  DEBUG=True

  # 서버의 `.env`
  DB_PASSWORD=production_secret_password
  DEBUG=False
  ```

### What it can do?

#### ex.level.2: Docker를 이용한 배포 자동화
- Docker 컨테이너를 빌드할 때, `.env` 파일을 통해 컨테이너 내부에 환경 변수를 주입할 수 있음
- 이를 통해 Docker 이미지 자체에는 민감 정보를 포함시키지 않으면서, 컨테이너 실행 시점에 동적으로 설정을 구성하는 유연하고 안전한 배포 파이프라인 구축이 가능

#### ex.level.3: 클라우드 서비스와의 통합
- AWS Secrets Manager, Google Cloud Secret Manager, HashiCorp Vault 같은 전문적인 보안 관리 서비스와 연동 가능
- 애플리케이션 실행 시, 코드에서 직접 이 서비스들에 접근하여 필요한 비밀 값들을 동적으로 불러와 메모리에만 잠시 저장하여 사용
- 이는 `.env` 파일 방식보다 한 단계 더 높은 수준의 보안을 제공